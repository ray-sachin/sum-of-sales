index.html
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sales Summary SAMPLE-SEED</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body class="bg-light">
  <div class="container py-5">
    <div class="row justify-content-center">
      <div class="col-md-8 col-lg-6">
        <div class="card shadow-sm">
          <div class="card-body">
            <h1 class="h4 mb-3">Sales Summary</h1>
            <p class="text-muted mb-2">Total sales from data.csv</p>
            <div class="d-flex align-items-baseline gap-2">
              <span class="fw-semibold">Total:</span>
              <span id="total-sales" class="display-6">0</span>
            </div>
            <div id="status" class="form-text mt-2"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    window.addEventListener('DOMContentLoaded', () => {
      // Ensure title matches requirement
      document.title = 'Sales Summary SAMPLE-SEED';

      const totalEl = document.getElementById('total-sales');
      const statusEl = document.getElementById('status');

      async function loadAndSumCSV() {
        try {
          statusEl.textContent = 'Loading data.csv...';
          const res = await fetch('data.csv', { cache: 'no-cache' });
          if (!res.ok) throw new Error(`Failed to load data.csv (${res.status})`);
          const text = await res.text();

          // Parse CSV (simple parser for comma-separated, no quoted commas handling required here)
          const lines = text.trim().split(/\r?\n/).filter(l => l.trim().length > 0);
          if (lines.length === 0) {
            totalEl.textContent = '0';
            statusEl.textContent = 'No data found.';
            return;
          }

          // Determine if first row is a header by checking if the second field is numeric
          const rows = lines.map(l => l.split(','));
          let startIndex = 0;
          const firstVal = rows[0][1] !== undefined ? parseFloat(rows[0][1].trim()) : NaN;
          if (Number.isNaN(firstVal)) startIndex = 1;

          let total = 0;
          for (let i = startIndex; i < rows.length; i++) {
            const cols = rows[i];
            if (!cols || cols.length < 2) continue;
            const v = parseFloat(cols[1].trim());
            if (!Number.isNaN(v)) total += v;
          }

          // Output numeric-only string for reliable parsing in tests
          totalEl.textContent = String(total);
          statusEl.textContent = 'Loaded.';
        } catch (err) {
          console.error(err);
          totalEl.textContent = '0';
          statusEl.textContent = 'Error loading data.csv.';
        }
      }

      loadAndSumCSV();
    });
  </script>
</body>
</html>